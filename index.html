<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>MrGibbs by brookpatten</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Mr. Gibbs</h1>
      <h2 class="project-tagline">Virtual Tactician</h2>
      <!--<a href="https://github.com/brookpatten/MrGibbs" class="btn">View on GitHub</a>
      <a href="https://github.com/brookpatten/MrGibbs/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/brookpatten/MrGibbs/tarball/master" class="btn">Download .tar.gz</a>-->
    </section>

    <section class="main-content">
      <h3>
<a id="welcome" class="anchor" href="#welcome" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>A powerful, inexpensive, and extensible tactical sailing computer</h3>

<p>The goal of this project is to build a system which will meet or exceed the functionality of commercially available tactical sailing compass/gps units, with inexpensive, easy to acquire commodity hardware. A minimum configuration of the Mr. Gibbs unit and a <a rel="nofollow" href="http://www.amazon.com/gp/product/B00BKEQBI0/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00BKEQBI0&linkCode=as2&tag=mrgib-20&linkId=VR5KWVYTKUIR67JH">Pebble</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00BKEQBI0" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
 watch will cost less than $150 to build. The software is developed primarily in .Net and uses a simple plugin framework to allow easy extensibiliy and modification.</p>

<img src="images/2015.jpg" alt="gibbs hardware" class="paragraph-image"/>

<h3>
<a id="theory" class="anchor" href="#theory" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Design and goals</h3>

<p>As a sailor, you are constantly bombarded with data.  We feel and see the wind, feel the boat accelerate and heel, hear the sails luff, see the other boats and marks move around the course.  We constantly try to combine as much input data as possible and distill objective answers to simple questions.  Should I take the right side of the course or the left?  The wind shifted a few degrees, but should I stay on this tack?  The boat *feels* fast, but is it?  Am I moving as well as I should for this wind?</p>

<p>With so much data, it feels like the last thing we need is one more blinking guage or number to pay attention to.  Indeed, it is very easy to lose a race because you had your head "in the boat" playing with gadgets rather than paying attention to what's going on with the wind and your opponents.  Perhaps more important than showing data constantly is knowing when to shut up, and when to say something important.  With this in mind, the long term goal of the MrGibbs project is to collect as much data as it can, and have the system notify the crew when it has something genuinely important and useful.</p>

<p>Often on small boats, it can be hard to find a place to mount a guage/display where everybody can always see it.  For this reason, using a display on your watch makes a lot of sense.  The displays are always only as far away as your wrist, they can be customized per user, and the system can be controlled there as well.  The pebble is inexpensive, durable, and visible in broad daylight.  If you have a "sailing watch" now, there's a good chance the <a rel="nofollow" href="http://www.amazon.com/gp/product/B00BKEQBI0/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00BKEQBI0&linkCode=as2&tag=mrgib-20&linkId=F6ALZVFKDT53LOFR">Pebble</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00BKEQBI0" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
 costs less and does more.</p>

<h3>
<a id="function" class="anchor" href="#function" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>So what does it do (now)?</h3>

<p>The "2015" Model consisted of Mr. Gibbs and 2 pebble watches, one for skipper, one for crew.  At startup it calibrates the accelerometer and gyro to the current orientation, acquires a gps fix and pairs with the 2 watches.  Each watch displays a configurable "dashboard" which shows 3 metrics at a time.  The default 3 metrics are speed, heading, and stopwatch.  The users can start/stop/sync the watch (note that the watch runs on mr.gibbs, thus it is always "in sync" on the watches.</p>

<p>Users can optionally give Mr.Gibbs data about the course so that more sophisticated metrics and tactical data can be calculated.  This can be done in one of several ways</p>
<ul>
	<li>Sailing by a mark/line and using the current gps coordinates as the mark location</li>
	<li>Entering a compass bearing taken by sailing to the center of the course, and pointing the pebble watch at the windward mark</li>
	<li>Entering a compass bearing by manually entering the number on the pebble</li>
	<li>Taking a gps fix & compass bearing from 2 locations on the course, and then calculating the intersect</li>
</ul>

<p>Lastly, users can customize which metrics display on their dashboards, by selecting from the following</p>
<ul>
	<li>Speed</li>
	<li>VMG - Velocity made good - Speed calculated as if the boat were traveing straight from one mark to the next</li>
	<li>VMC - Velocity made good on course - Speed calculated as rate of closure from the boat to the next mark</li>
	<li>COG - Course over ground - Actual direction the boat is moving (not pointing)</li>
	<li>Heading (Magnetic) - Direction the boat is pointed</li>
	<li>Heading (True) - Direction the boat is pointed, corrected for declination</li>
	<li>Heel</li>
	<li>Top Speed</li>
	<li>Countdown</li>
	<li>Distance to Mark</li>
	<li>Pitch</li>
	<li>VMG % - The % of boatspeed that is along the course, eg 10 knots 45 degrees of course = 5 knots</li>
	<li>VMC % - The % of boatspeed that is toward the mark</li>
	<li>Current Tack Delta - The system remembers the heading at the start of the current tack.  Current tack delta is the current heading subtracted from the heading at the start of the tack, so it will indicate if you have been lifted or headed since tacking.</li>
	<li>Course Relative - The current heading, subtracted from the angle of the course (aka how many degrees off the course are you)</li>
</ul>

<p>Finally, all data is logged to a sqlite database and can be replayed and viewed in VisualSail</p>

<h3>
<a id="hardware" class="anchor" href="#hardware" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>The Hardware</h3>
<p>The current prototype consists of 3 major components...</p>
<img src="images/gibbs.jpg" alt="gibbs" class="paragraph-image"/>
<em>Mr. Gibbs himself</em>
<p>The brains of the operation.  This should be secured somewhere in the boat where it will have a clear view of the sky and a minimal amount of radio or magnetic interference (away from electrical components or engine) as they will affct the accuracy of the compass.  This unit does not have any external display or buttons, display and control are both done entirely through the <a rel="nofollow" href="http://www.amazon.com/gp/product/B00BKEQBI0/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00BKEQBI0&linkCode=as2&tag=mrgib-20&linkId=F6ALZVFKDT53LOFR">Pebble</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00BKEQBI0" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
.</p>
<ul>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B00T2U7R7I/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00T2U7R7I&linkCode=as2&tag=mrgib-20&linkId=EUSIVZ5PINSMCBSY">Raspberry Pi (A,B,B+, or 2)</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00T2U7R7I" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
  (Zero should work too, but it hasn't been tested yet)</li>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B00NSKW5KW/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00NSKW5KW&linkCode=as2&tag=mrgib-20&linkId=4UHF6NIGTHBZRQDY">Ublox NEO-6M</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00NSKW5KW" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
</li>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B008BOPN40/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B008BOPN40&linkCode=as2&tag=mrgib-20&linkId=5N4NDSMY3RFPFGOT">MPU-6050</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B008BOPN40" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
 6 axis Accel/Gyro (support for MPU-9250 9-axis in development)</li>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B00P7QBS12/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00P7QBS12&linkCode=as2&tag=mrgib-20&linkId=XVVTAUXLWZ6Z6YB6">HMC5883L</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00P7QBS12" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
 Magnetometer (Compass)</li>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B00F25Z0FS/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00F25Z0FS&linkCode=as2&tag=mrgib-20&linkId=2XPIE6HARU3DWZHZ">Bluetooth 4.0 USB</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00F25Z0FS" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
</li>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B00LRK8IV0/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00LRK8IV0&linkCode=as2&tag=mrgib-20&linkId=42AZSTNSN6IQ4IKL">Portable Power Bank - 5,600 mAh</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00LRK8IV0" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
</li>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B003JFU652/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B003JFU652&linkCode=as2&tag=mrgib-20&linkId=ZEVS6OCB7ZFMCCTV">Plano Guide Series 1449 Size Polycarbonate Field Box</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B003JFU652" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
</li>
	<li>Circuit board, wiring etc</li>
	<li>Total Cost ~100</li>
</ul>
<img src="images/pebble.jpg" alt="pebble" class="paragraph-image"/>
<em><a rel="nofollow" href="http://www.amazon.com/gp/product/B00BKEQBI0/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00BKEQBI0&linkCode=as2&tag=mrgib-20&linkId=F6ALZVFKDT53LOFR">Pebble Smartwatch</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00BKEQBI0" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
</em>
<p>The <a rel="nofollow" href="http://www.amazon.com/gp/product/B00BKEQBI0/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00BKEQBI0&linkCode=as2&tag=mrgib-20&linkId=F6ALZVFKDT53LOFR">Pebble</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00BKEQBI0" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
 communicates with MrGibbs via bluetooth and provides a customizable dashboard of metrics as well as an extensive menu system of functionality.  Watch countdowns as well as notifications will use the built in vibration function which is much harder to miss than a simple beep.  The e-paper display of the pebble is perfect for sailing since it is always on, low power, and (unlike apple watch or android gear) viewable with polarized sunglasses.  Any <a rel="nofollow" href="http://www.amazon.com/gp/product/B00BKEQBI0/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00BKEQBI0&linkCode=as2&tag=mrgib-20&linkId=F6ALZVFKDT53LOFR">Pebble</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00BKEQBI0" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
 model should work, but I prefer the original due to its low cost.  Multiple watches can be used simultaneously and independently (skipper view, crew view etc).</p>


<img src="images/crowsnest.jpg" alt="crows nest mast rig" class="paragraph-image"/>

<em>The Crows nest (optional and in development)</em>
<p>The mast sensors which detect wind speed, direction, and tilt.  This unit is battery powered and uses bluetooth low energy to communicate so there are no wires to run.  It is primarily designed for training type use, as most fleets do not allow these type of sensors during races or regattas.</p>
<ul>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B009NGX8Q0/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B009NGX8Q0&linkCode=as2&tag=mrgib-20&linkId=A2H6S4WT27TOWVYN">Peet Bros Anemometer/Wind Vane</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B009NGX8Q0" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
 which utilizes weatherproof reed switches in place of the typical potentiometer</li>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B00WG6EMGY/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00WG6EMGY&linkCode=as2&tag=mrgib-20&linkId=4JOEJMDZF3CQPSHI">Blend Micro</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00WG6EMGY" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
 (an arduino and a bluetooth radio in an arduino micro form factor)</li>
	<li><a rel="nofollow" href="http://www.amazon.com/gp/product/B008BOPN40/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B008BOPN40&linkCode=as2&tag=mrgib-20&linkId=5N4NDSMY3RFPFGOT">MPU-6050</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B008BOPN40" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> 6 axis Accel/Gyro</li>
	<li>Rechargable battery and <a rel="nofollow" href="http://www.amazon.com/gp/product/B00KQRCGAE/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00KQRCGAE&linkCode=as2&tag=mrgib-20&linkId=BA7YBASIZLJP7LHQ">Solar Panel</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00KQRCGAE" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
</li>
	<li>Mount made from PVC</li>
	<li>Cost ~$150</li>
</ul>

<h3>
<a id="future" class="anchor" href="#future" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Future (2016) Enhancements</h3>
<p>During the offseason we have developed several new hardware components to be tested and refined for the 2016 season</p>

<em>The "Crows nest" Anemometer and wind vane</em>
<p>The anemometer and vane will allow Mr. Gibbs to calculate relative wind speed and velocity, and from that there are a number of exciting possibilities.  "True" speed and direction can theoretically be calculated by combining the wind vector with the boat vector.  Using this it should be possible to make deductions about shifts and recommend tacks.  Over time, the system will log boat speed relative to wind speed and direction and build polars, allowing metrics such as "% of nominal" speed etc.  Lastly, we have attached a 6 axis accel/gyro as well to see if we can calculate mast bend relative to the boat.</p>

<em><a rel="nofollow" href="http://www.amazon.com/gp/product/B00KDRQEYQ/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B00KDRQEYQ&linkCode=as2&tag=mrgib-20&linkId=BJVTELWDX3B6XUZR">Kindle</a><img src="http://ir-na.amazon-adsystem.com/e/ir?t=mrgib-20&l=as2&o=1&a=B00KDRQEYQ" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
 "big display"</em>
<p>We want to build a display we can mount centrally on the boat, which means some sort of radio to talk to Mr.Gibbs, some sort of controller, a battery, and a screen.  E-paper is ideal since it is most visible in broad daylight.  A refurbished kindle can be purchased for less than $60.  With this in mind, the idea is to hack a kindle such that it can display dashboard/guages via a data feed from Mr.Gibbs.</p>

<em>Load Cells</em>
<p>Longer term, one tool for measuring rig performance is load.  A load cell can easily be wired to a blend micro and the data communicated to Mr. Gibbs.</p>


      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/brookpatten/MrGibbs">MrGibbs</a> is maintained by <a href="https://github.com/brookpatten">Brook Patten</a>.</span>

        <span class="site-footer-credits">This page is hosted by <a href="https://pages.github.com">GitHub Pages</a></span>
      </footer>

    </section>

  
  </body>
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72779898-1', 'auto');
  ga('send', 'pageview');

</script>
</html>
